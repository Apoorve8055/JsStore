{"version":3,"file":"db_helper.js","sourceRoot":"","sources":["../../../web_worker/model/db_helper.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAG7C;IAII,kBAAY,QAAkB;QAF9B,YAAO,GAAY,EAAE,CAAC;QAGlB,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;QAC5B,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;IACpC,CAAC;IAEM,iCAAc,GAArB,UAAsB,QAAiD;QAAvE,iBAmBC;QAlBG,IAAI,KAAK,GAAG,CAAC,EACT,aAAa,GAAkB,EAAE,EACjC,sBAAsB,GAAG;YACrB,EAAE,CAAC,CAAC,KAAK,GAAG,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC9B,IAAI,KAAK,GAAU,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAClC,YAAY,GAAgB,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC;gBACvD,YAAY,CAAC,cAAc,CAAC,KAAI,CAAC,KAAK,EAAE;oBACpC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC;oBAC9B,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBACjC,sBAAsB,EAAE,CAAC;gBAC7B,CAAC,CAAC,CAAC;gBACH,EAAE,KAAK,CAAC;YACZ,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,QAAQ,CAAC,aAAa,CAAC,CAAC;YAC5B,CAAC;QACL,CAAC,CAAC;QACN,sBAAsB,EAAE,CAAC;IAC7B,CAAC;IACL,eAAC;AAAD,CAAC,AA7BD,IA6BC","sourcesContent":["import { DataBase } from \"./database\";\nimport { TableHelper } from \"./table_helper\";\nimport { Table } from \"./table\";\n\nexport class DbHelper {\n    _name: string;\n    _tables: Table[] = [];\n\n    constructor(dataBase: DataBase) {\n        this._name = dataBase._name;\n        this._tables = dataBase._tables;\n    }\n\n    public createMetaData(callBack: (tablesMetaData: TableHelper[]) => void) {\n        var index = 0,\n            table_helpers: TableHelper[] = [],\n            createMetaDataForTable = () => {\n                if (index < this._tables.length) {\n                    var table: Table = this._tables[index],\n                        table_helper: TableHelper = new TableHelper(table);\n                    table_helper.createMetaData(this._name, () => {\n                        table_helper._callback = null;\n                        table_helpers.push(table_helper);\n                        createMetaDataForTable();\n                    });\n                    ++index;\n                }\n                else {\n                    callBack(table_helpers);\n                }\n            };\n        createMetaDataForTable();\n    }\n}"]}